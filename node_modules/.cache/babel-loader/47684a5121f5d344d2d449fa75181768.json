{"ast":null,"code":"import _slicedToArray from\"/Users/lauramartingonzalez/Desktop/carpeta sin ti\\u0301tulo/adalab/examenes/modulo-3-evaluacion-final-lauramargo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import getDataApi from'../services/charactersApi.js';import CharacterList from'./CharactersList.js';import Filters from'./Filters.js';import CharacterDetail from'./CharacterDetail.js';import{matchPath,Route,Routes,useLocation}from\"react-router-dom\";import Header from'./Header';import Footer from'./Footer';import\"../styles/components/App.scss\";import lS from\"../services/lS.js\";import NotFoundPage from'./NotFoundPage.js';//useState\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dataUsers=_useState2[0],setDataUsers=_useState2[1];var _useState3=useState(lS.get(\"filterByNameLs\",\"\")),_useState4=_slicedToArray(_useState3,2),filterByName=_useState4[0],setFilterByName=_useState4[1];var _useState5=useState(lS.get(\"filterHouseLs\",\"Gryffindor\")),_useState6=_slicedToArray(_useState5,2),filterByHouse=_useState6[0],setFilterByHouse=_useState6[1];var _useState7=useState(\"Todos\"),_useState8=_slicedToArray(_useState7,2),filterByGender=_useState8[0],setFilterByGender=_useState8[1];// useEffect\nuseEffect(function(){getDataApi().then(function(dataApi){setDataUsers(dataApi);});},[]);useEffect(function(){getDataApi(filterByHouse).then(function(charactersData){setDataUsers(charactersData.sort(function(a,b){if(a.name>b.name){return 1;}if(a.name<b.name){return-1;}return 0;}));});},[filterByHouse]);useEffect(function(){lS.set(\"filterNameLs\",filterByName);lS.set(\"filterHouseLs\",filterByHouse);},[filterByName,filterByHouse]);// filters\nvar houseFilter=dataUsers.filter(function(character){if(filterByHouse!=='Todas'){return character.house===filterByHouse;}return true;}).filter(function(character){if(filterByGender!=='Todos'){return character.gender===filterByGender;}return true;}).filter(function(character){return character.name.toLowerCase().includes(filterByName.toLowerCase());});//manejadoras\nvar handleFilterByName=function handleFilterByName(value){setFilterByName(value);};var handleFilterByHouse=function handleFilterByHouse(value){setFilterByHouse(value);};var handleFilterByGender=function handleFilterByGender(value){setFilterByGender(value);};//bonus\nvar resetBtn=function resetBtn(){setFilterByName(\"\");setFilterByHouse(\"Gryffindor\");setFilterByGender(\"Todos\");};var noResults=function noResults(){if(setFilterByName!==\"\"&&houseFilter.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"Ese nombre no es m\\xE1gico, prueba con otro\"});}else{return/*#__PURE__*/_jsx(CharacterList,{character:houseFilter,filterByHouse:filterByHouse,filterByName:filterByName});}};var _useLocation=useLocation(),pathname=_useLocation.pathname;var dataPath=matchPath(\"/character/:id\",pathname);var characterId=dataPath!==null?dataPath.params.id:null;var characterFound=houseFilter.find(function(character){return character.id===parseInt(characterId);});var NotId=function NotId(){if(characterFound===undefined){return/*#__PURE__*/_jsx(NotFoundPage,{});}else{return/*#__PURE__*/_jsx(CharacterDetail,{character:characterFound});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"page__main\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Filters,{filterByName:filterByName,handleFilterByName:handleFilterByName,filterByHouse:filterByHouse,handleFilterByHouse:handleFilterByHouse,filterByGender:filterByGender,handleFilterByGender:handleFilterByGender,resetBtn:resetBtn}),noResults()]})}),/*#__PURE__*/_jsx(Route,{path:\"/character/:id\",element:NotId()})]})}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"names":["useState","useEffect","getDataApi","CharacterList","Filters","CharacterDetail","matchPath","Route","Routes","useLocation","Header","Footer","lS","NotFoundPage","App","dataUsers","setDataUsers","get","filterByName","setFilterByName","filterByHouse","setFilterByHouse","filterByGender","setFilterByGender","then","dataApi","charactersData","sort","a","b","name","set","houseFilter","filter","character","house","gender","toLowerCase","includes","handleFilterByName","value","handleFilterByHouse","handleFilterByGender","resetBtn","noResults","length","pathname","dataPath","characterId","params","id","characterFound","find","parseInt","NotId","undefined"],"sources":["/Users/lauramartingonzalez/Desktop/carpeta sin título/adalab/examenes/modulo-3-evaluacion-final-lauramargo/src/components/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport getDataApi from '../services/charactersApi.js';\nimport CharacterList from './CharactersList.js';\nimport Filters from './Filters.js';\nimport CharacterDetail from './CharacterDetail.js';\nimport { matchPath, Route, Routes, useLocation } from \"react-router-dom\";\n\nimport Header from './Header';\nimport Footer from './Footer';\nimport \"../styles/components/App.scss\";\nimport lS from \"../services/lS.js\";\nimport NotFoundPage from './NotFoundPage.js';\n\n\n//useState\nfunction App() {\n  const [dataUsers, setDataUsers] = useState([]);\n  const [filterByName, setFilterByName] = useState(lS.get(\"filterByNameLs\", \"\"));\n  const [filterByHouse, setFilterByHouse] = useState(lS.get(\"filterHouseLs\", \"Gryffindor\"));\n  const [filterByGender, setFilterByGender] = useState(\"Todos\");\n\n  // useEffect\n  useEffect(() => {\n    getDataApi().then((dataApi) => {\n      setDataUsers(dataApi);\n\n    })\n  }, []);\n  useEffect(() => {\n    getDataApi(filterByHouse).then((charactersData) => {\n      setDataUsers(\n        charactersData.sort(function (a, b) {\n          if (a.name > b.name) {\n            return 1;\n          }\n          if (a.name < b.name) {\n            return -1;\n          }\n          return 0;\n        })\n      );\n    });\n  }, [filterByHouse]);\n\n  useEffect(() => {\n    lS.set(\"filterNameLs\", filterByName);\n    lS.set(\"filterHouseLs\", filterByHouse);\n\n  }, [filterByName, filterByHouse]);\n\n  // filters\n  const houseFilter = dataUsers\n    .filter((character) => {\n      if (filterByHouse !== 'Todas') {\n        return (character.house === filterByHouse);\n      } return true;\n    })\n\n    .filter((character) => {\n      if (filterByGender !== 'Todos') {\n        return (character.gender === filterByGender);\n      } return true;\n    })\n\n    .filter((character) => {\n      return character.name.toLowerCase().includes(filterByName.toLowerCase());\n    });\n\n\n  //manejadoras\n  const handleFilterByName = (value) => { setFilterByName(value); }\n\n  const handleFilterByHouse = (value) => { setFilterByHouse(value); }\n\n  const handleFilterByGender = (value) => { setFilterByGender(value); }\n\n  //bonus\n  const resetBtn = () => {\n    setFilterByName(\"\");\n    setFilterByHouse(\"Gryffindor\");\n    setFilterByGender(\"Todos\");\n\n  };\n\n  const noResults = () => {\n    if (setFilterByName !== \"\" && houseFilter.length === 0) {\n      return (\n        <p >Ese nombre no es mágico, prueba con otro</p>\n      );\n\n    } else {\n      return (<CharacterList character={houseFilter}\n\n        filterByHouse={filterByHouse}\n        filterByName={filterByName}\n\n      />);\n    }\n  };\n\n  const { pathname } = useLocation();\n  const dataPath = matchPath(\"/character/:id\", pathname);\n\n  const characterId = dataPath !== null ? dataPath.params.id : null;\n  const characterFound = houseFilter.find(character => { return character.id === parseInt(characterId) });\n\n\n  const NotId = () => {\n    if (characterFound === undefined) {\n      return <NotFoundPage />\n\n    }\n    else { return <CharacterDetail character={characterFound} /> }\n  };\n\n\n\n  return (\n    <>\n      <div className='page'>\n        <Header />\n        <main className='page__main'>\n\n          <Routes>\n            <Route\n              path=\"/\"\n              element={\n                <>\n                  <Filters filterByName={filterByName}\n                    handleFilterByName={handleFilterByName}\n                    filterByHouse={filterByHouse}\n                    handleFilterByHouse={handleFilterByHouse}\n                    filterByGender={filterByGender}\n                    handleFilterByGender={handleFilterByGender}\n                    resetBtn={resetBtn}\n\n                  />\n\n                  {noResults()}\n                </>\n              }\n            />\n            <Route\n              path=\"/character/:id\"\n              element={NotId()\n              }\n            />\n          </Routes>\n        </main>\n        <Footer />\n      </div>\n\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}